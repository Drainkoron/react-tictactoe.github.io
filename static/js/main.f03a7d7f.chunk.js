(this["webpackJsonptic-tac-toe"]=this["webpackJsonptic-tac-toe"]||[]).push([[0],[,function(e,t,a){e.exports={GameContainer:"GameContainer_GameContainer__1Qhbe",endGameWindow:"GameContainer_endGameWindow__1CsZa",textContainer:"GameContainer_textContainer__25qwD",item:"GameContainer_item__3krQp",top:"GameContainer_top__3p3-L",bottom:"GameContainer_bottom__1BE9Z",right:"GameContainer_right__3AK6j",left:"GameContainer_left__1LiCS",winning:"GameContainer_winning__19Ixl"}},function(e,t,a){e.exports={container:"GameSettings_container__2Ok1P",inputContainer:"GameSettings_inputContainer__3p2Ez",button:"GameSettings_button__1uUdh"}},,,,,,,,function(e,t,a){e.exports=a(17)},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);a(11),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(0),i=a.n(n),s=a(9),r=a.n(s),m=a(3),o=a(4),c=a(5),l=a(6),u=a(7),d=a(1),h=a.n(d),G=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).checkGame=function(e,t){if(!(n.sData.mainCounter<2*n.sData.wll-1)){var a=n.sData.GameMap,i=a[t][e],s=[];return[[[0,-1],[0,1]],[[-1,0],[1,0]],[[-1,-1],[1,1]],[[1,-1],[-1,1]]].forEach((function(r){for(var m=[],o=[t,e],c=[t,e];o[0]+=r[0][0],o[1]+=r[0][1],a[o[0]][o[1]]===i;)m.push([o[0],o[1]]);for(;c[0]+=r[1][0],c[1]+=r[1][1],a[c[0]][c[1]]===i;)m.push([c[0],c[1]]);m.push([t,e]),m.length>=n.sData.wll&&s.push(m)})),s.length>0?{linesList:s,response:"".concat(i," wins")}:n.sData.mainCounter>=(n.sData.size.w-2)*(n.sData.size.h-2)?{linesList:s,response:"Draw"}:null}},n.updateData=function(e){n.setState({height:window.innerHeight,width:window.innerWidth,itemsGridData:n.getItemsGridData(n.sData.size,n.state.width)})},n.setWinningItems=function(e){e.linesList.forEach((function(e){e.forEach((function(e){var t=e[0]-1,a=e[1]-1,i=(n.sData.size.w-2)*t+a;n.sData.winningItemsList[i]=!0}))}))},n.clickEvent=function(e){if(!n.sData.isGameEnded.status&&null!==n.sData.isGameEnded.status){var t=e.target,a=n.sData.GameMap;"item"===t.parentElement.getAttribute("item-type")&&(t=t.parentElement);var i=t.getAttribute("item-index")%(n.sData.size.w-2)+1,s=Math.floor(t.getAttribute("item-index")/(n.sData.size.w-2))+1;"#"===a[s][i]&&"item"===t.getAttribute("item-type")&&(n.sData.currentPlayer?a[s][i]="x":a[s][i]="o",n.sData.GameMap=a,n.checked=n.checkGame(i,s),null!=n.checked&&(n.setWinningItems(n.checked),n.actions.GameEnd(n.checked.response)),n.actions.setNewItem())}},n.getItemsGridData=function(e,t){var a=60;return{itemsInRow:e.w-2,itemSize:a=Math.min(Math.floor(t/e.w),a)}},n.getGameMap=function(){for(var e=n.sData.size,t=e.w,a=e.h,i=[],s=0;s<a;s++){i[s]=[];for(var r=0;r<t;r++)i[s][r]="#"}return i},n.getItemClassList=function(e){var t=e.j,a=e.i,i=e.w,s=e.h,r=e.cnt,m=[h.a.item];return n.sData.isGameEnded.status&&n.sData.winningItemsList[r]&&m.push(h.a.winning),1===t&&m.push(h.a.left),t===i-2&&m.push(h.a.right),1===a&&m.push(h.a.top),a===s-2&&m.push(h.a.bottom),m},n.getItemContent=function(e,t){if("x"===n.sData.GameMap[e][t]||"o"===n.sData.GameMap[e][t])return i.a.createElement("p",null,n.sData.GameMap[e][t])},n.getItems=function(){for(var e=[],t=0,a=Object(c.a)(n).getItemClassList,s=n.sData.size,r=s.w,m=s.h,o={height:"".concat(n.state.itemsGridData.itemSize,"px"),width:"".concat(n.state.itemsGridData.itemSize,"px")},l=1;l<m-1;l++)for(var u=1;u<r-1;u++)e.push(i.a.createElement("div",{"item-type":"item","item-index":t,key:"item".concat(t),className:a({j:u,i:l,w:r,h:m,cnt:t}).join(" "),style:o},n.getItemContent(l,u))),t+=1;return e},n.endGameContainer=function(){if(n.sData.isGameEnded.status)return i.a.createElement("div",{className:h.a.endGameWindow},i.a.createElement("div",{className:h.a.textContainer},i.a.createElement("p",null,n.sData.isGameEnded.gameEndResponse)))},n.actions=e.actions,n.sData=e.state,n.GameContainerRef=i.a.createRef(),n.checked=null,n.sData.GameMap||(n.sData.GameMap=n.getGameMap(),n.mainCounter=n.sData.mainCounter),n.state={height:window.innerHeight,width:window.innerWidth,itemsGridData:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({winningItemsList:[],itemsGridData:this.getItemsGridData(this.sData.size,this.state.width)}),window.addEventListener("resize",this.updateData),window.addEventListener("click",this.clickEvent)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateData),window.removeEventListener("click",this.clickEvent)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{ref:this.GameContainerRef,className:h.a.GameContainer,style:{gridTemplateColumns:"repeat(".concat(this.state.itemsGridData.itemsInRow,", ").concat(this.state.itemsGridData.itemSize,"px)")}},this.getItems(this.sData.size)),this.endGameContainer())}}]),a}(i.a.Component),p=a(2),g=a.n(p),w=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).setInputs=function(){return i.a.createElement("div",{className:g.a.inputContainer},i.a.createElement("form",{ref:n.formRef,name:"gameSettings",onSubmit:function(e){n.onSubmit(e,n.actions)}},i.a.createElement("div",{className:g.a.inputContainer},i.a.createElement("label",null,"Width"),i.a.createElement("input",{type:"number",name:"w","data-item":"gsInp",min:"3",max:"12",defaultValue:"3"})),i.a.createElement("div",{className:g.a.inputContainer},i.a.createElement("label",null,"Height"),i.a.createElement("input",{type:"number",name:"h","data-item":"gsInp",min:"3",max:"12",defaultValue:"3"})),i.a.createElement("div",{className:g.a.inputContainer},i.a.createElement("label",null,"Winning line length"),i.a.createElement("input",{type:"number",name:"wll","data-item":"gsInp",min:"3",max:n.sData.wllMaxValue,defaultValue:"3"})),i.a.createElement("input",{type:"submit",name:"button",className:g.a.button,value:n.sData.buttonValue})))},n.formRef=i.a.createRef(),n.sData=e.state,n.actions=e.actions,n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("change",this.actions.inputChange)}},{key:"onSubmit",value:function(e,t){e.preventDefault(),t.buttonClick()}},{key:"render",value:function(){return i.a.createElement("div",{className:g.a.container},this.setInputs())}}]),a}(i.a.Component);a(16);var f=function(e){var t=function(){return i.a.createElement(G,{state:e.state.GameContainer,actions:e.actions.GameContainer})};return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"App-mainContent"},i.a.createElement("div",null,i.a.createElement(w,{state:e.state.GameSettings,actions:e.actions.GameSettings})),i.a.createElement(t,null)))},C=function(e){r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(f,{state:e.state,actions:e.actions})),document.getElementById("root"))},E={GameContainer:{mainCounter:1,currentPlayer:!0,GameMap:null,GameStatus:!1,winningItemsList:[],isGameEnded:{status:null,gameEndResponse:null},wll:3,size:{w:5,h:5}},GameSettings:{width:3,height:3,wll:3,wllMaxValue:3,buttonValue:"play"}},v={GameContainer:{setNewItem:function(){E.GameContainer.mainCounter+=1,E.GameContainer.currentPlayer=!E.GameContainer.currentPlayer,C({state:E,actions:v})},GameEnd:function(e){E.GameContainer.isGameEnded.status=!0,E.GameContainer.GameStatus=!1,E.GameContainer.isGameEnded.gameEndResponse=e,C({state:E,actions:v})}},GameSettings:{inputChange:function(e){if("gsInp"===e.target.getAttribute("data-item")){switch(e.target.getAttribute("name")){case"w":E.GameSettings.width=parseInt(e.target.value);break;case"h":E.GameSettings.height=parseInt(e.target.value);break;case"wll":E.GameSettings.wll=parseInt(e.target.value)}E.GameSettings.wllMaxValue=Math.min(E.GameSettings.width,E.GameSettings.height),E.GameSettings.wll>Math.min(E.GameSettings.width,E.GameSettings.height)&&(E.GameSettings.wll=Math.min(E.GameSettings.width,E.GameSettings.height)),C({state:E,actions:v})}},buttonClick:function(){E.GameContainer.size.w=E.GameSettings.width+2,E.GameContainer.size.h=E.GameSettings.height+2,E.GameContainer.wll=E.GameSettings.wll,E.GameContainer.winningItemsList=[],E.GameContainer.currentPlayer=!0,E.GameContainer.GameMap=null,E.GameContainer.mainCounter=1,E.GameContainer.isGameEnded.status=!1,E.GameSettings.buttonValue="replay",E.GameContainer.GameStatus=!0,C({state:E,actions:v})}}};C({state:E,actions:v}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.f03a7d7f.chunk.js.map